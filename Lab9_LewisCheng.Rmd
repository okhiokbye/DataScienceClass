---
title: "Lab9_LewisCheng"
author: "Lewis Cheng"
date: "`r Sys.Date()`"
output: html_document
---

#Q1
```{R}
#install.packages(c("arules","arulesViz")) #install packages
library("arules") 
library("arulesViz")
data (Groceries) # Load data into memory
myGroc <- Groceries # Make a copy for safety
summary(myGroc) # What is the structure? sparse data, most people buy whole milk/veggies,
#most people only buy a few items (median 3, mean 4.4)
```

#Q2
```{R}
items <- itemFrequency(myGroc)
str(items) #lsit of named numbers: items + frequency
items <- sort(items)

head(items) #lowest freq: baby food at 0.0001

```

```{r}

tail(items) #highest item freq: whole milk at 0.255

```


#Q3
```{R}
itemFrequencyPlot(myGroc, topN=20) #it is the relative frequency of that item relative to other itmes
itemFrequencyPlot(myGroc)
```

#Q4
```{R}
ct <- crossTable(myGroc, sort=TRUE)
ct[1:3, 1:3] #diagonal considers all instances of item
#value considers number of observations with both items
```

#Q5-6
```{R}

rules1 <- apriori(myGroc, 
             parameter=list(supp=0.0008, conf=0.55), 
             control=list(verbose=F),
             appearance=list(default="lhs",rhs=("whole milk")))
head(inspect(rules1))

```

#Q7
```{R}
rules2 <- apriori(myGroc, 
             parameter=list(supp=0.0005, conf=0.55), 
             control=list(verbose=F),
             appearance=list(default="lhs",rhs=("bottled beer")))
inspect(rules2) #rules from before hold true, more rules just added
```

#Q8
```{R}
#myCars <- mtcars  
#myCars$mpgGB <- myCars$mpg  # make new mpg column
#myCars$mpgGB[myCars$mpgGB > 25] <- 'good'  # all values in mpgGB > 25 = 'good'
#myCars$mpgGB[myCars$mpgGB <= 25] <- 'bad'  # all values in mpgGB <= 25 = 'bad'
#transCars = as(myCars, 'transactions')
# not sure whats breaking here, something to do with the intervals
```